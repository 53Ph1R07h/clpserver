{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% include 'messages.html' %}
{% block home %}

    <div class="px-3 lg:container group w-full mt-4 lg:mt-10">
        <div dir="rtl" class="swiper header-slider h-52 md:h-96 cursor-pointer">
            <div class="swiper-wrapper">
                <a href="{% url 'products:products' %}" class="swiper-slide">
                    <img src="{% static 'images/slider/4.jpg' %}" class="rounded-xl" alt="">
                </a >
                <a href="{% url 'products:products' %}" class="swiper-slide">
                    <img src="{% static 'images/slider/1.jpg' %}" class="rounded-xl" alt="">
                </a >
                <a href="{% url 'products:products' %}" class="swiper-slide">
                    <img src="{% static 'images/slider/2.jpg' %}" class="rounded-xl" alt="">
                </a >
                <a href="{% url 'products:products' %}" class="swiper-slide">
                    <img src="{% static 'images/slider/3.jpg' %}" class="rounded-xl" alt="">
                </a >
            </div>
            <div class="swiper-pagination-wrapper">
                <div class="swiper-pagination"></div>
            </div>

            <!-- Swiper Navigation -->
            <div class="absolute z-10 bottom-5 opacity-0 invisible group-hover:opacity-100 transition-all
            duration-300 group-hover:visible right-6 hidden lg:flex items-center gap-x-2 child:flex-center
            child:w-9 child:h-9 child:cursor-pointer child:bg-white child:dark:bg-gray-800 child:text-gray-700
            child:dark:text-gray-200 child:rounded-full child:shadow child-hover:text-blue-600
            child-hover:dark:text-blue-500">
                <button class="button-prev">
                    <svg class="size-5 -rotate-90">
                        <use href="#chevron" ></use>
                    </svg>
                </button>
                <button class="button-next">
                    <svg class="size-5 rotate-90">
                        <use href="#chevron" ></use>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- Main -->
    <main class="relative">
        <!-- AMAZING SLIDER -->
        <section class="mx-4 lg:container mt-20">
            <div class="w-full h-80 rounded-xl bg-blue-500 dark:bg-blue-700 p-4 relative">
                <!-- AmazingSlider products Slider -->
                <div class="swiper AmazingSlider w-full rounded-xl">
                    <div class="swiper-wrapper">

                        <div class="swiper-slide amazing-card">
                            <img class="w-28 h-28" src="{% static 'images/slider/Amazings.svg' %}" alt="">
                            <!-- TIMER -->
                            {% comment %} <div class="flex items-center gap-x-2">
                                <span class="timer-box" id="seconds">00</span>
                                <p class="text-white">:</p>
                                <span class="timer-box" id="minutes">00</span>
                                <p class="text-white">:</p>
                                <span class="timer-box" id="hours">03</span>
                            </div> {% endcomment %}
                        </div>


                        {% for i in offers %}
                            <div class="swiper-slide small-card group">
                                <!-- product img -->
                                <a href="{% url 'home:products_detail' category=i.get_category slug=i.slug %}">
                                    <img class="small-card_img" src="{{ i.image.url }}" alt="{{ i.name }}">
                                </a>

                                <!-- product footer -->
                                <div class="space-y-2">
                                    <a href="{% url 'home:products_detail' category=i.get_category slug=i.slug %}"
                                       class="small-card_link">
                                        {{ i.name|truncatechars:60 }}
                                    </a>

                                    <div class="product-card_price-wrapper">
                                        <div class="small-card_price justify-between">
                                            {% if i.off_percent %}
                                                <span class="pt-1">{{ i.off_percent }}%</span>
                                            {% endif %}
                                            <h4 class="flex items-center gap-x-1 text-lg">
                                                {{ i.offer_price|intcomma }}
                                                <p class="text-xs font-DanaMedium">تومان</p>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <button class="slider-navigate_btn absolute right-1 top-36 border dark:border-gray-700 border-gray-200
                    AmazingSlider-prev-slide z-10">
                <svg class="size-6 -rotate-90">
                    <use href="#chevron"></use>
                </svg>
            </button>
            <button class="slider-navigate_btn absolute left-1 top-36 border dark:border-gray-700 border-gray-200 AmazingSlider-next-slide z-10">
                <svg class="size-6 rotate-90">
                    <use href="#chevron"></use>
                </svg>
            </button>
            </div>
        </section>

        <!-- Latest products -->
        <section class="mx-4 lg:container mt-10 lg:mt-20">
            <!-- SECTION TITLE -->
            <div class="flex flex-col gap-y-4 xs:flex-row items-center justify-between w-full text-center xs:text-start">
                <div class="flex items-center gap-x-2 sm:gap-x-4">
                    <div class="space-y-1 md:space-y-1">
                        <h3 class="text-xl md:text-2xl font-MorabbaMedium text-gray-800 dark:text-gray-50">جدید ترین
                            <span class="text-blue-600 dark:text-blue-500">محصولات</span>
                        </h3>
                        <p class="text-sm text-gray-500 dark:text-gray-300">جدیدترین و بروزترین محصولات</p>
                    </div>
                </div>
                <div class="w-full xs:w-auto flex justify-between xs:justify-end  items-center gap-x-2">
                    <div class="flex items-center gap-x-2">
                        <button class="slider-navigate_btn LatestProducts-prev-slide">
                            <svg class="size-6 -rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                        <button class="slider-navigate_btn LatestProducts-next-slide">
                            <svg class="size-6 rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                    </div>
                    <a href="{% url "products:products" %}"
                       class="group shadow-xl text-sm md:text-base flex gap-x-1.5 items-center
                       px-2 h-10 md:px-3 text-white bg-blue-600 rounded-xl">
                        <p>مشاهده همه</p>
                        <span class="w-7 h-7 rounded-full bg-blue-500 flex-center md:group-hover:-translate-x-1 transition-transform duration-300">
                            <svg class="size-5">
                                <use href="#arrow"></use>
                            </svg>
                        </span>
                    </a>
                </div>
            </div>
            <div class="swiper LatestProducts mt-5 w-full">
                <div class="swiper-wrapper py-5">
                    {% for i in new %}
                        <!-- PRODUCT ITEM -->
                        <div class="swiper-slide product-card group">
                            <!-- product header -->
                            <div class="product-card_header">
                                <div class="flex items-center gap-x-2">
                                    <div class="tooltip">
                                        <button class="rounded-full p-1.5 app-border app-hover">
                                            <svg class="size-4">
                                                <use href="#shopping-cart"></use>
                                            </svg>
                                        </button>
                                        <div class="tooltiptext">
                                            سبد خرید
                                        </div>
                                    </div>
                                    <div class="tooltip">
                                        <button class="rounded-full p-1.5 app-border app-hover">
                                            <svg class="size-4">
                                                <use href="#heart"></use>
                                            </svg>
                                        </button>
                                        <div class="tooltiptext">
                                            علاقه مندی
                                        </div>
                                    </div>

                                </div>
                                <!-- badge offer -->
                                {% if i.off_percent %}
                                    <span class="product-card_badge">{{ i.off_percent }}% تخفیف</span>
                                {% endif %}
                            </div>
                            <!-- product img -->
                            <a href="{% url 'home:products_detail' category=i.get_category slug=i.slug %}">
                                <img class="product-card_img" src="{{ i.image.url }}" alt="{{ i.name }}">
                            </a>
                            <!--  product footer -->
                            <div class="space-y-2">
                                <a href="{% url 'home:products_detail' category=i.get_category slug=i.slug %}"
                                   class="product-card_link">
                                    {{ i.name|truncatechars:60 }}
                                </a>
                                <!-- Rate and Price -->
                                <div class="product-card_price-wrapper">
                                    <!-- Price -->
                                    <div class="product-card_price">
                                        {% if i.old_price %}
                                            <del>{{ i.old_price|intcomma }} <h6>تومان</h6></del>
                                        {% endif %}
                                        <p>{{ i.offer_price|intcomma }}</p>
                                        <span>تومان</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>
        <!-- BANNER -->
        <section
                class="mx-4 lg:container mt-10 lg:mt-20 flex flex-col lg:flex-row items-center gap-5 child:rounded-xl child:overflow-hidden">
            <a href="{% url 'products:products' %}" class="group">
                <img src="{% static 'images/banner/banner-01.jpg' %}" class="group-hover:scale-105 transition-transform duration-300"
                     alt="">
            </a>
            <a href="{% url 'products:products' %}" class="group">
                <img src="{% static 'images/banner/banner-02.jpg' %}" class="group-hover:scale-105 transition-transform duration-300"
                     alt="">
            </a>
        </section>
        <!-- Best-selling products -->
        <section class="mx-4 lg:container mt-10 lg:mt-20">
            <!-- SECTION TITLE -->
            <div class="flex flex-col gap-y-4 xs:flex-row items-center justify-between w-full text-center xs:text-start">
                <div class="flex items-center gap-x-2 sm:gap-x-4">
                    <span class="size-12 hidden xs:flex rounded-lg bg-white shadow-lg dark:bg-gray-800 flex-center">
                        <svg class="size-7 text-gray-700 dark:text-gray-100">
                            <use href="#mobile"></use>
                        </svg>
                    </span>
                    <div class="space-y-1 md:space-y-1">
                        <h3 class="text-xl md:text-2xl font-MorabbaMedium text-gray-800 dark:text-gray-50">محصولات
                            <span class="text-blue-600 dark:text-blue-500">پرفروش </span>
                        </h3>
                        <p class="text-sm text-gray-500 dark:text-gray-300">پرفروش‌ترین و موردپسندترین محصولات</p>
                    </div>
                </div>
                <div class="w-full xs:w-auto flex justify-between xs:justify-end  items-center gap-x-2">
                    <div class="flex items-center gap-x-2">
                        <button class="slider-navigate_btn BestSelling-prev-slide">
                            <svg class="size-6 -rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                        <button class="slider-navigate_btn BestSelling-next-slide">
                            <svg class="size-6 rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                    </div>
                    <a href="{% url 'products:products' %}"
                       class="group shadow-xl text-sm md:text-base flex gap-x-1.5 items-center px-2 h-10 md:px-3 text-white bg-blue-600 rounded-xl">
                        <p>مشاهده همه</p>
                        <span class="w-7 h-7 rounded-full bg-blue-500 flex-center md:group-hover:-translate-x-1 transition-transform duration-300">
                            <svg class="size-5">
                                <use href="#arrow"></use>
                            </svg>
                        </span>
                    </a>
                </div>

            </div>
            <!-- Latest products Slider -->
            <div class="swiper BestSelling mt-5 w-full">
                <div class="swiper-wrapper py-5">
                    {% for i in most_sell %}
                        <!-- PRODUCT ITEM -->
                        <div class="swiper-slide product-card group">
                            <!-- product header -->
                            <div class="product-card_header">
                                <div class="flex items-center gap-x-2">
                                    <div class="tooltip">
                                        <button class="rounded-full p-1.5 app-border app-hover">
                                            <svg class="size-4">
                                                <use href="#shopping-cart"></use>
                                            </svg>
                                        </button>
                                        <div class="tooltiptext">
                                            سبد خرید
                                        </div>
                                    </div>
                                    <div class="tooltip">
                                        <button class="rounded-full p-1.5 app-border app-hover">
                                            <svg class="size-4">
                                                <use href="#heart"></use>
                                            </svg>
                                        </button>
                                        <div class="tooltiptext">
                                            علاقه مندی
                                        </div>
                                    </div>

                                </div>
                                {% if i.off_percent %}
                                    <!-- badge offer -->
                                    <span class="product-card_badge">{{ i.off_percent }}% تخفیف</span>
                                {% endif %}
                            </div>
                            <!-- product img -->
                            <a href="{% url 'home:products_detail' category=i.get_category slug=i.slug %}">
                                <img class="product-card_img" src="{{ i.image.url }}"
                                     alt="{{ i.name }}">
                            </a>
                            <!--  product footer -->
                            <div class="space-y-2">
                                <a href="{% url 'products:products_detail' category=i.get_category slug=i.slug %}"
                                   class="product-card_link">
                                    {{ i.name|truncatechars:60 }}
                                </a>
                                <!-- Rate and Price -->
                                <div class="product-card_price-wrapper">
                                    <!-- Price -->
                                    <div class="product-card_price">
                                        {% if i.old_price %}
                                            <del>{{ i.old_price|intcomma }} <h6>تومان</h6></del>
                                        {% endif %}
                                        <p>{{ i.offer_price|intcomma }}</p>
                                        <span>تومان</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <section class="mx-4 lg:container mt-10 lg:mt-20">
            <!-- SECTION TITLE -->
            <div class="flex flex-col gap-y-4 xs:flex-row items-center justify-between w-full text-center xs:text-start">
                <div class="flex items-center gap-x-2 sm:gap-x-4">
                    <span class="size-12 hidden xs:flex rounded-lg bg-white shadow-lg dark:bg-gray-800 flex-center">
                        <svg class="size-7 text-gray-700 dark:text-gray-100">
                            <use href="#check-badge"></use>
                        </svg>
                    </span>
                    <div class="space-y-1 md:space-y-1">
                        <h3 class="text-xl md:text-2xl font-MorabbaMedium text-gray-800 dark:text-gray-50">
                            <span class="text-blue-600 dark:text-blue-500">مقالات</span>
                        </h3>
                        <p class="text-sm text-gray-500 dark:text-gray-300">جدیدترین مقالات</p>
                    </div>
                </div>
                <div class="w-full xs:w-auto flex justify-between xs:justify-end  items-center gap-x-2">
                    <div class="flex items-center gap-x-2">
                        <button class="slider-navigate_btn articleSlider-prev-slide">
                            <svg class="size-6 -rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                        <button class="slider-navigate_btn articleSlider-next-slide">
                            <svg class="size-6 rotate-90">
                                <use href="#chevron"></use>
                            </svg>
                        </button>
                    </div>
                    <a href=""
                       class="group shadow-xl text-sm md:text-base flex gap-x-1.5 items-center px-2 h-10 md:px-3 text-white bg-blue-600 rounded-xl">
                        <p>مشاهده همه</p>
                        <span class="w-7 h-7 rounded-full bg-blue-500 flex-center md:group-hover:-translate-x-1 transition-transform duration-300">
                            <svg class="size-5">
                                <use href="#arrow"></use>
                            </svg>
                        </span>
                    </a>
                </div>
            </div>
            <div class="swiper articleSlider w-full mt-5">
                <div class="swiper-wrapper w-full py-5">
                    {% for i in blog %}
                        <div class="swiper-slide group article-box">
                            <div class="relative overflow-hidden rounded-lg">
                                <img src="{{ i.image.url }}" class="article-box_img" alt="{{ i.title }}">
                                <div class="absolute opacity-0 left-0 top-0 bottom-0 right-0 bg-black/60 flex items-center justify-center group-hover:opacity-100 duration-300 transition-all rounded-bl-3xl rounded-tr-3xl">
                                    <a href="{% url "home:detail" i.slug %}"
                                       class="flex items-center px-2 py-1 gap-x-1 font-DanaMedium rounded-lg border-2 border-white text-white">
                                        <p>ادامه مطلب</p>
                                        <svg class="w-4 h-4 rotate-90">
                                            <use href="#chevron"></use>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                            <div class="flex flex-col gap-y-1 py-5 px-1">
                                <h2 class="font-DanaDemiBold">{{ i.title }}</h2>
                            </div>
                            <span class="flex w-full h-1 py-1 border-t border-gray-100 dark:border-white/10"></span>
                            <div class="flex items-center justify-between text-sm px-1">
                                <span class="flex items-center gap-x-1 text-blue-500 dark:text-sky-400">
                                    <svg class="w-4 h-4"><use href="#calendar"></use></svg>
                                    <p class="mt-1">{{ i.created_at|date:"Y/m/d" }}</p>
                                </span>
                                <span class="flex items-start gap-x-1 text-gray-300">
                                    <p class="font-DanaDemiBold">{{ i.views_count }}</p>
                                    <svg class="w-4 h-4"><use href="#eye"></use></svg>
                                </span>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Features -->
        <div class="container w-full mt-10 lg:mt-20 flex flex-wrap items-center justify-between gap-6 child:text-sm child:gap-y-1 child:cursor-pointer">
            <!-- item -->
            <span class="flex-col items-center justify-center hidden md:flex">
                <img class="w-14 h-14" src="{% static 'images/svg/1.svg' %} " alt="">
                <p class="text-gray-500 dark:text-gray-300">ارسال سریع و بسته‌بندی امن کالا</p>
            </span>
            <span class="flex flex-col items-center justify-center">
                <img class="w-14 h-14" src="{% static 'images/svg/2.svg' %}" alt="">
                <p class="text-gray-500 dark:text-gray-300">گارانتی ۲ ساله تمام گیتارها</p>
            </span>
            <span class="flex flex-col items-center justify-center">
                <img class="w-14 h-14" src="{% static 'images/svg/3.svg' %}" alt="">
                <p class="text-gray-500 dark:text-gray-300">ضمانت اصالالت کالا</p>
            </span>
            <span class="flex flex-col items-center justify-center">
                <img class="w-14 h-14" src="{% static 'images/svg/4.svg' %}" alt="">
                <p class="text-gray-500 dark:text-gray-300">پشتیبانی مادام‌العمر</p>
            </span>
            <span class="flex flex-col items-center justify-center">
                <img class="w-14 h-14" src="{% static 'images/svg/5.svg' %}" alt="">
                <p class="text-gray-500 dark:text-gray-300">امکان خرید حضوری از فروشگاه</p>
            </span>
        </div>
    </main>
{% endblock %}